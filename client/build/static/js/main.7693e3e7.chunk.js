(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{18:function(e,t,n){e.exports={pagContainer:"Pagination_pagContainer__2S4Ls",pageNumber:"Pagination_pageNumber__3ClF_",pageNumberActive:"Pagination_pageNumberActive__34L4G",botton:"Pagination_botton__17bNa",pagination:"Pagination_pagination__1sQI-"}},24:function(e,t,n){e.exports={rating:"StarRating_rating__1gbq7",star:"StarRating_star__5DMr9",staro:"StarRating_staro__BryM0",partial:"StarRating_partial__2lU4_"}},41:function(e,t,n){e.exports={LandingContainer:"Landing_LandingContainer__3mCkc"}},42:function(e,t,n){e.exports={Cardcontainer:"Card_Cardcontainer__3B-SS"}},43:function(e,t,n){e.exports={Cardscontainer:"CardsContainer_Cardscontainer__1pZYU"}},44:function(e,t,n){e.exports={FilterContainer:"FilterBar_FilterContainer__1m20q"}},45:function(e,t,n){e.exports={searchBar:"SearchBar_searchBar__3n6ry"}},46:function(e,t,n){e.exports={NavContainer:"NavBar_NavContainer__1v10W"}},47:function(e,t,n){e.exports={Detailcontainer:"Detail_Detailcontainer__329lk"}},53:function(e,t,n){},61:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(26),c=n.n(r),i=(n(53),n(12)),o=n(8),s=n(30),l=n(4),j=n(15),u=n(23),d=n(69),b="ALL_GAMES",O="GAME_DETAIL",m="GAME_BY_NAME",p="ALL_GENRES",h="FILTER_ORIGIN",g="FILTER_GENRE",f="ORDER_BY_NAME",v="ORDER_RATING",x="RESET_DETAIL",_=function(){return function(){var e=Object(u.a)(Object(j.a)().mark((function e(t){var n,a;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("http://localhost:3001/videogames");case 2:n=e.sent,a=n.data,t({type:b,payload:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(u.a)(Object(j.a)().mark((function t(n){var a,r;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get("http://localhost:3001/videogames/".concat(e));case 2:a=t.sent,r=a.data,n({type:O,payload:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},N=function(){return function(){var e=Object(u.a)(Object(j.a)().mark((function e(t){var n,a;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("http://localhost:3001/genres");case 2:n=e.sent,a=n.data,t({type:p,payload:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},C={games:[],allGames:[],gameDetail:[],genres:[],genreFilter:"",originFilter:""},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(l.a)(Object(l.a)({},e),{},{games:t.payload,allGames:t.payload});case O:return Object(l.a)(Object(l.a)({},e),{},{gameDetail:t.payload});case x:return Object(l.a)(Object(l.a)({},e),{},{gameDetail:{}});case m:return Object(l.a)(Object(l.a)({},e),{},{games:t.payload});case p:return Object(l.a)(Object(l.a)({},e),{},{genres:t.payload});case h:var n=t.payload,a=e.allGames,r=e.genreFilter,c="all"===n?a:a.filter((function(e){return e.created===("created"===n)}));return""!==r&&"all"!==r&&(c=c.filter((function(e){return e.genres.includes(r)}))),Object(l.a)(Object(l.a)({},e),{},{originFilter:n,games:c});case g:var i=t.payload,o=e.allGames,s=e.originFilter,j="all"===i?o:o.filter((function(e){return e.genres.includes(i)}));return""!==s&&"all"!==s&&(j=j.filter((function(e){return e.created===("created"===s)}))),Object(l.a)(Object(l.a)({},e),{},{genreFilter:i,games:j});case f:var u="asc"===t.payload?e.games.sort((function(e,t){return e.name>t.name?1:t.name>e.name?-1:0})):e.games.sort((function(e,t){return e.name>t.name?-1:t.name>e.name?1:0}));return Object(l.a)(Object(l.a)({},e),{},{games:u});case v:var d="low"===t.payload?e.games.sort((function(e,t){return e.rating>t.rating?1:t.rating>e.rating?-1:0})):e.games.sort((function(e,t){return e.rating>t.rating?-1:t.rating>e.rating?1:0}));return Object(l.a)(Object(l.a)({},e),{},{games:d});default:return Object(l.a)({},e)}},w=n(40),R=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.b,E=Object(s.c)(S,R(Object(s.a)(w.a))),G=(n(61),n(6)),T=n(41),A=n.n(T),P=n(0),D=function(){return Object(P.jsxs)("div",{className:A.a.LandingContainer,children:[Object(P.jsx)("link",{href:"https://fonts.googleapis.com/css?family=Press+Start+2P",rel:"stylesheet"}),Object(P.jsx)("h1",{children:"WELCOME TO"}),Object(P.jsx)("h2",{children:"YOUR GAMING PAGE"}),Object(P.jsx)(i.b,{to:"/home",children:Object(P.jsx)("button",{children:"Let's Play"})})]})},F=n(7),L=n(42),I=n.n(L),k=n(31),M=n(24),B=n.n(M),Y=function(e){for(var t=e.rating,n=Math.floor(t),a=t-n,r=[],c=0;c<5;c++)c<n||c===n&&a>=.5?r.push(Object(P.jsx)(k.a,{className:B.a.star},c)):r.push(Object(P.jsx)(k.a,{className:B.a.staro},c));return Object(P.jsx)("div",{className:B.a.star,children:r})},U=function(e){return Object(P.jsxs)("div",{className:I.a.Cardcontainer,children:[Object(P.jsx)(i.b,{to:"/videogames/".concat(e.id),children:Object(P.jsx)("h3",{children:e.name})}),Object(P.jsx)("img",{src:e.image,alt:"imageGame"}),Object(P.jsx)("span",{children:Object(P.jsx)(Y,{rating:e.rating})}),Object(P.jsx)("p",{children:e.genres})]})},W=n(43),X=n.n(W),Z=n(18),$=n.n(Z);function q(e){for(var t=e.gamesPerPage,n=e.allGames,a=e.page,r=e.currentPage,c=e.next,i=e.prev,o=[],s=Math.ceil(n/t),l=1;l<=s;l++)o.push(l);return Object(P.jsx)("div",{children:Object(P.jsxs)("ul",{className:$.a.pagContainer,children:[Object(P.jsx)("button",{className:$.a.botton,onClick:i,children:" Previous"}),null===o||void 0===o?void 0:o.map((function(e){return Object(P.jsxs)("button",{className:r===e?$.a.pageNumberActive:$.a.pageNumber,href:"true",onClick:function(){return a(e)},children:[" ",e," "]},e)})),Object(P.jsx)("button",{className:$.a.botton,onClick:c,children:"Next"})]})})}var H=n(44),J=n.n(H),Q=function(e){var t=e.filterGenres,n=e.filterOrigin,r=e.orderName,c=e.orderRating,i=e.reload,s=Object(o.c)((function(e){return e.genres})),l=Object(a.useState)("Order"),j=Object(F.a)(l,2),u=j[0],d=j[1],b=Object(a.useState)("Rating"),O=Object(F.a)(b,2),m=O[0],p=O[1],h=Object(a.useState)("Origin"),g=Object(F.a)(h,2),f=g[0],v=g[1],x=Object(a.useState)("Genre"),_=Object(F.a)(x,2),y=_[0],N=_[1];return Object(P.jsxs)("div",{className:J.a.FilterContainer,children:[Object(P.jsxs)("select",{value:u,onChange:function(e){d(e.target.value),r(e)},children:[Object(P.jsx)("option",{disabled:!0,children:"Order"}),Object(P.jsx)("option",{value:"asc",children:"A-Z"}),Object(P.jsx)("option",{value:"desc",children:"Z-A"})]}),Object(P.jsxs)("select",{value:m,onChange:function(e){p(e.target.value),c(e)},children:[Object(P.jsx)("option",{disabled:!0,children:"Rating"}),Object(P.jsx)("option",{value:"top",children:"Rating Top"}),Object(P.jsx)("option",{value:"low",children:"Rating Low"})]}),Object(P.jsxs)("select",{value:f,onChange:function(e){v(e.target.value),n(e)},children:[Object(P.jsx)("option",{disabled:!0,children:"Origin"}),Object(P.jsx)("option",{value:"all",children:"All Origins"}),Object(P.jsx)("option",{value:"created",children:"Created"}),Object(P.jsx)("option",{value:"existing",children:"Existing"})]}),Object(P.jsxs)("select",{value:y,onChange:function(e){N(e.target.value),t(e)},children:[Object(P.jsx)("option",{disabled:!0,children:"Genre"}),Object(P.jsx)("option",{value:"all",children:"All Genres"}),null===s||void 0===s?void 0:s.map((function(e){return Object(P.jsxs)("option",{value:e.name,children:[" ",e.name]},e.id)}))]}),Object(P.jsx)("button",{onClick:function(){i(),d("Order"),p("Rating"),v("Origin"),N("Genre")},children:"Clear"})]})},z=n(45),K=n.n(z);function V(e){var t=e.handleInputSubmit,n=Object(o.b)(),r=Object(a.useState)(""),c=Object(F.a)(r,2),i=c[0],s=c[1],l=function(e){e.preventDefault(),i?(n(function(e){return function(){var t=Object(u.a)(Object(j.a)().mark((function t(n){var a,r;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.get("http://localhost:3001/videogames?name=".concat(e));case 3:a=t.sent,r=a.data,n({type:m,payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),alert("".concat(e," does not exist!"));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(i)),s(""),t()):alert("You must enter a name")};return Object(P.jsx)("form",{onSubmit:function(e){return l(e)},children:Object(P.jsxs)("div",{className:K.a.searchBar,children:[Object(P.jsx)("input",{type:"text",id:"search",value:i,placeholder:"Search videogame...",autoComplete:"off",onChange:function(e){return function(e){s(e.target.value)}(e)}}),Object(P.jsx)("button",{type:"submit",children:"Search"})]})})}var ee=n(46),te=n.n(ee),ne=function(e){var t=e.handleInputSubmit;return Object(P.jsxs)("div",{className:te.a.NavContainer,children:[Object(P.jsx)(i.b,{to:"/create",children:Object(P.jsx)("button",{children:"Add game"})}),Object(P.jsx)(V,{handleInputSubmit:t})]})},ae=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.games})),n=Object(a.useState)(1),r=Object(F.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)(15),l=Object(F.a)(s,1)[0],j=c*l,u=j-l,d=t.slice(u,j),b=Object(a.useState)(""),O=Object(F.a)(b,2)[1];return Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{className:X.a.Cardscontainer,children:null===d||void 0===d?void 0:d.map((function(e){return Object(P.jsx)(U,{name:e.name,id:e.id,image:e.image,rating:e.rating,genres:e.genres.map((function(e){return Object(P.jsx)("p",{children:e},e)}))},e.id)}))}),Object(P.jsxs)("div",{children:[Object(P.jsx)(q,{gamesPerPage:l,allGames:t.length,page:function(e){i(e),window.scrollTo({top:0,left:0,behavior:"smooth"})},currentPage:c,prev:function(){1!==c&&i(c-1),window.scrollTo({top:0,left:0,behavior:"smooth"})},next:function(){c<Math.ceil(t.length/l)&&i(c+1),window.scrollTo({top:0,left:0,behavior:"smooth"})}}),Object(P.jsx)(Q,{filterGenres:function(t){var n;e((n=t.target.value,{type:g,payload:n})),i(1),window.scrollTo({top:0,left:0,behavior:"smooth"})},filterOrigin:function(t){var n;e((n=t.target.value,{type:h,payload:n})),i(1),window.scrollTo({top:0,left:0,behavior:"smooth"})},orderName:function(t){var n;e((n=t.target.value,{type:f,payload:n})),i(1),O(t.target.value),window.scrollTo({top:0,left:0,behavior:"smooth"})},orderRating:function(t){var n;t.preventDefault(),e((n=t.target.value,{type:v,payload:n})),i(1),O(t.target.value),window.scrollTo({top:0,left:0,behavior:"smooth"})},reload:function(){e(_()),O(""),i(1),window.scrollTo({top:0,left:0,behavior:"smooth"})}}),Object(P.jsx)(ne,{handleInputSubmit:function(){O(""),i(1)}})]})]})},re=function(){var e=Object(o.b)();return Object(a.useEffect)((function(){e(_()),e(N())}),[e]),Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(ae,{})})},ce=n(47),ie=n.n(ce),oe=function(){var e,t,n,r=Object(o.b)(),c=Object(G.f)().id;Object(a.useEffect)((function(){r(y(c)),window.scrollTo({top:0,left:0,behavior:"smooth"})}),[r,c]);var s=Object(o.c)((function(e){return e.gameDetail}));return Object(P.jsx)("div",{className:ie.a.Detailcontainer,children:Object(P.jsxs)("div",{children:[Object(P.jsx)("h3",{children:s.name}),Object(P.jsx)("img",{src:s.image,alt:"imageGame"}),Object(P.jsxs)("p",{children:["\u269c\ufe0fGeneros: ",null===(e=s.genres)||void 0===e?void 0:e.join(",  ")]}),Object(P.jsxs)("p",{children:["\ud83d\udcddDescription: ",Object(P.jsx)("span",{dangerouslySetInnerHTML:{__html:s.description}})]}),Object(P.jsxs)("p",{children:[" \u2b50Rating: ",s.rating]}),Object(P.jsxs)("p",{children:[" \ud83c\udfaePlatforms: ",(null===(t=s.id)||void 0===t?void 0:t.length)>7?s.platforms:null===(n=s.platforms)||void 0===n?void 0:n.join(", ")]}),Object(P.jsxs)("p",{children:[" \ud83d\udcc6Released: ",s.released?s.released:"No information"]}),Object(P.jsx)(i.b,{to:"/home",onClick:function(){r(y()),r({type:x})},children:Object(P.jsx)("button",{children:"\u25c0 Return"})})]})})},se=n(35),le=n(21),je=n(9),ue=n.n(je),de=/^[a-zA-Z0-9 ():_-]*$/,be=/^(0[1-9]|[12][0-9]|3[01])-(0[1-9]|1[012])-(19|20)[0-9]{2}$/,Oe=/^[0-5]+([.][0-5]+)?$/,me=/^https?:\/\/(?:www\.)?\S+\.(?:jpg|jpeg|png|gif)$/i,pe=function(){var e,t,n=Object(o.b)();Object(a.useEffect)((function(){n(_()),n(N())}),[n]);var r=Object(o.c)((function(e){return e.genres})),c=Object(o.c)((function(e){return e.games})),s=new Set;c.forEach((function(e){return e.platforms.forEach((function(e){return s.add(e)}))}));var j=Array.from(s),u=Object(a.useState)("Seleccionar"),b=Object(F.a)(u,2),O=b[0],m=b[1],p=Object(a.useState)("Seleccionar"),h=Object(F.a)(p,2),g=h[0],f=h[1],v=function(){m("Seleccionar"),f("Seleccionar")},x=Object(a.useState)({name:"",description:"",released:"",rating:0,image:"",platforms:[],genres:[]}),y=Object(F.a)(x,2),C=y[0],S=y[1],w=Object(a.useState)({name:"",description:"",released:"",rating:"",image:"",platforms:"",genres:""}),R=Object(F.a)(w,2),E=R[0],G=R[1],T=function(e){var t=e.target.name,n=e.target.value;G(function(e){var t={};return de.test(e.name)||(t.name="Please type a valid game name (no special characters)"),""===e.name&&(t.name="Please type a valid game name (non-empty string)"),""===e.description&&(t.description="Please write the description of the game"),""===e.released||be.test(e.released)||(t.released="Wrong released date format. Should be DD-MM-YYYY"),""===e.rating||Oe.test(e.rating)||(t.rating="Rating must be a number between 0 - 5"),me.test(e.image)||(t.image="Please type a valid URL"),t}(Object(l.a)(Object(l.a)({},C),{},Object(le.a)({},t,n)))),S(Object(l.a)(Object(l.a)({},C),{},Object(le.a)({},t,n)))};return Object(P.jsxs)("div",{className:ue.a.formcontainer,children:[Object(P.jsx)("h1",{children:"\u2728Add your own videogame\u2728"}),Object(P.jsxs)("form",{onSubmit:function(e){e.preventDefault(),Object.keys(E).length?(alert("ERROR: there are unfilled fields\ud83d\ude15"),console.log(E)):(d.a.post("http://localhost:3001/videogames",C).then((function(e){return alert(e.data)})).catch((function(e){return alert(e)})),S({name:"",description:"",released:"",rating:0,image:"",platforms:[],genres:[]}),v(),window.scrollTo({top:0,left:0,behavior:"smooth"}))},children:[Object(P.jsxs)("div",{children:[Object(P.jsx)("label",{htmlFor:"name",children:"\ud83d\udd79\ufe0fGame name: *"}),Object(P.jsx)("input",{type:"text",value:C.name,onChange:T,name:"name",placeholder:"Write the game name...",autoComplete:"off"}),E.name&&Object(P.jsx)("p",{className:ue.a.errorText,children:E.name})]}),Object(P.jsxs)("div",{children:[Object(P.jsx)("label",{children:"\ud83d\udcddDescription: *"}),Object(P.jsx)("p",{children:Object(P.jsx)("textarea",{type:"text",value:C.description,onChange:T,name:"description",placeholder:"Write a short game description..."})}),E.description&&Object(P.jsx)("p",{className:ue.a.errorText,children:E.description})]}),Object(P.jsxs)("div",{children:[Object(P.jsx)("label",{children:"\ud83d\udcc6Released date: "}),Object(P.jsx)("input",{type:"text",value:C.released,onChange:T,name:"released",placeholder:"dd-mm-yyyy",autoComplete:"off"}),E.released&&Object(P.jsx)("p",{className:ue.a.errorText,children:E.released})]}),Object(P.jsxs)("div",{children:[Object(P.jsx)("label",{children:"\u2b50Rating: "}),Object(P.jsx)("input",{type:"text",value:C.rating,onChange:T,name:"rating",placeholder:"Rating from 1 to 5...",autoComplete:"off"}),E.rating&&Object(P.jsx)("p",{className:ue.a.errorText,children:E.rating})]}),Object(P.jsxs)("div",{children:[Object(P.jsx)("label",{children:"\ud83d\uddbc\ufe0fImage: "}),Object(P.jsx)("input",{type:"text",value:C.image,onChange:T,name:"image",placeholder:"type the URL of the videogame image...",autoComplete:"off"}),E.image&&Object(P.jsx)("p",{className:ue.a.errorText,children:E.image})]}),Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{children:[Object(P.jsx)("label",{children:"\u269c\ufe0fGenres: * "}),Object(P.jsxs)("select",{value:O,onChange:function(e){m(e.target.value),function(e){S(Object(l.a)(Object(l.a)({},C),{},{genres:[].concat(Object(se.a)(C.genres),[e.target.value])}))}(e)},children:[Object(P.jsx)("option",{disabled:!0,children:"Seleccionar"}),null===r||void 0===r?void 0:r.map((function(e){return Object(P.jsxs)("option",{value:e.name,children:[" ",e.name]},e.id)}))]})]}),Object(P.jsx)("div",{className:ue.a.selection,children:null===(e=C.genres)||void 0===e?void 0:e.map((function(e){return Object(P.jsxs)("div",{className:ue.a.sele,children:[" ",e+" ",Object(P.jsx)("button",{className:ue.a.delete,value:e.name,onClick:function(){var t;t=e,S(Object(l.a)(Object(l.a)({},C),{},{genres:C.genres.filter((function(e){return e!==t}))})),v()},children:"X"},e.id)]},e)}))})]}),Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{children:[Object(P.jsx)("label",{children:"\ud83c\udfaePlatforms: * "}),Object(P.jsxs)("select",{value:g,name:"platforms",onChange:function(e){f(e.target.value),function(e){S(Object(l.a)(Object(l.a)({},C),{},{platforms:[].concat(Object(se.a)(C.platforms),[e.target.value])}))}(e)},children:[Object(P.jsx)("option",{disabled:!0,children:"Seleccionar"}),null===j||void 0===j?void 0:j.map((function(e){return Object(P.jsx)("option",{value:e,children:e},e)}))]})]}),Object(P.jsx)("div",{className:ue.a.selection,children:null===(t=C.platforms)||void 0===t?void 0:t.map((function(e){return Object(P.jsxs)("div",{className:ue.a.sele,children:[" ",e+" ",Object(P.jsx)("button",{className:ue.a.delete,onClick:function(){var t;t=e,S(Object(l.a)(Object(l.a)({},C),{},{platforms:C.platforms.filter((function(e){return e!==t}))})),v()},children:"X"})]},e)}))})]}),Object(P.jsx)("button",{className:ue.a.btn,type:"submit",children:"Create Game"}),Object(P.jsx)("div",{children:Object(P.jsx)(i.b,{to:"/home",children:Object(P.jsx)("button",{className:ue.a.btn,children:"\u25c0 Return Home"})})})]})]})};var he=function(){var e=Object(G.e)();return Object(P.jsxs)("div",{className:"App",children:["/home"===e.pathname&&Object(P.jsx)(ne,{}),Object(P.jsx)(G.a,{exact:!0,path:"/",component:D}),Object(P.jsx)(G.a,{path:"/home",render:function(){return Object(P.jsx)(re,{})}}),Object(P.jsx)(G.a,{path:"/videogames/:id",component:oe}),Object(P.jsx)(G.a,{path:"/create",component:pe})]})};c.a.render(Object(P.jsxs)(o.a,{store:E,children:[Object(P.jsx)(i.a,{children:Object(P.jsx)(he,{})}),","]}),document.getElementById("root"))},9:function(e,t,n){e.exports={formcontainer:"Form_formcontainer__1ymQS",btn:"Form_btn__1OGwe",delete:"Form_delete__1IjL6",errorText:"Form_errorText__1bmvn",errorSelectText:"Form_errorSelectText__3KM2c",selection:"Form_selection__4f1r0",sele:"Form_sele__N2ISA"}}},[[68,1,2]]]);
//# sourceMappingURL=main.7693e3e7.chunk.js.map